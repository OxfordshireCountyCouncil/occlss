{% if params.responsive %}
<div class="occlss-g-table-responsive">
{% endif %}
  <table class="occlss-table
    {%- if params.classes %} {{ params.classes }}{% endif %}"{% for attribute, value in params.attributes %} {{ attribute }}="{{ value }}"{% endfor %}>
    {% if params.caption %}
    <caption class="occlss-table__caption
    {%- if params.captionClasses %} {{ params.captionClasses }}{% endif %}">{{ params.caption }}</caption>
    {% endif %}
    {% if params.head %}
    <thead class="occlss-table__head">
      <tr class="occlss-table__row">
      {% for item in params.head %}
        <th class="occlss-table__header
        {%- if item.format %} occlss-table__header--{{ item.format }}{% endif %}
        {%- if item.classes %} {{ item.classes }}{% endif %}"
        {%- if item.colspan %} colspan="{{ item.colspan }}"{% endif %}
        {%- if item.rowspan %} rowspan="{{ item.rowspan }}"{% endif %}{% for attribute, value in item.attributes %} {{ attribute }}="{{ value }}"{% endfor %} scope="col">{{ item.html |safe if item.html else item.text }}</th>
      {% endfor %}
      </tr>
    </thead>
    {% endif %}
    <tbody class="occlss-table__body">
      {% for row in params.rows %}
      <tr class="occlss-table__row">
      {% for cell in row %}
        {% if loop.first and params.firstCellIsHeader %}
        <th class="occlss-table__header" scope="row">{{ cell.html | safe if cell.html else cell.text }}</th>
        {% elseif loop.first %}
        <td class="occlss-table__cell
        {%- if cell.format %} occlss-table__cell--{{ cell.format }}{% endif %}
        {%- if cell.classes %} {{ cell.classes }}{% endif %}"
        {%- if cell.colspan %} colspan="{{ cell.colspan }}"{% endif %}
        {%- if cell.rowspan %} rowspan="{{ cell.rowspan }}"{% endif %}{% for attribute, value in cell.attributes %} {{ attribute }}="{{ value }}"{% endfor %}>{{ cell.html | safe if cell.html else cell.text }}</td>
        {% else %}
        <td class="occlss-table__cell 
        {%- if cell.format %} occlss-table__cell--{{ cell.format }}{% endif %}
        {%- if cell.classes %} {{ cell.classes }}{% endif %}"
        {%- if cell.colspan %} colspan="{{ cell.colspan }}"{% endif %}
        {%- if cell.rowspan %} rowspan="{{ cell.rowspan }}"{% endif %}{% for attribute, value in cell.attributes %} {{ attribute }}="{{ value }}"{% endfor %}>{{ cell.html | safe if cell.html else cell.text }}</td>
        {% endif %}
      {% endfor %}
      </tr>
      {% endfor %}
    </tbody>
  </table>
{% if params.responsive %}
</div>
{% endif %}
